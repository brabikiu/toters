<app-header></app-header>

<div class="container-fluid">
  <div class="row flex-lg-nowrap">
    <div class="col">
      <div class="e-tabs mb-0 px-3">
        <ul class="nav nav-tabs">
          <li class="dashboard"><a class="nav-link active">Listado de Cursos</a></li>
        </ul>
      </div>
     
      <div class="row flex-lg-nowrap">
        <div class="col mt-0 mb-3">
          <div class="e-panel card">
            <div class="card-body">
              <div class="reglist">
                <table class="table table-striped">
                  <thead>
                    <tr>
                      <th>#</th>
                      <th>Nome</th>
                      <th>Descriçao</th>
                      <th>Capacidade</th>
                      <th>Horas</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let course of toti.courses | filter:searchText ; let i = index">
                      <th scope="row">{{ i + 1 }}</th>
                      <td>{{ course.title }}</td>
                      <td>{{ course.description }}</td>
                      <td>{{ course.capacity }}</td>
                      <td>{{ course.hours }}</td>
                      <td>
  
                        <button type="button" class="btn btn-info"  data-toggle="modal" data-target="#courses-form-modal" (click)="onEdit(i, course)"><i class="bi bi-pencil-square"></i></button>
                      </td>
                      <td>
                        <button type="button" class="btn btn-danger" (click)="onDelete(i, course)"><i class="bi bi-trash-fill"></i></button>                   
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>             
            </div>
          </div>
        </div>
  
        <div class="col-12 col-lg-3 mt-1 mb-3">
          <div class="card">
            <div class="card-body">
              <div class="text-center px-xl-3">
                <button class="btn btn-success btn-block" type="button" data-toggle="modal" data-target="#courses-form-modal" (click)="onNew()" >Criar Registro</button>
              </div>
              <hr class="my-3">
              <div class="e-navlist e-navlist--active-bold">
              </div>
              <div class="row">
        <div class="col-lg-12">
<!--           <label>Procurar registro:</label>
 -->            <div class="input-group">
                <!-- <input class="form-control py-2 border-right-0 border" type="search" value="Procurar registro" id="input"> -->
                <!-- <input
                id="typeahead-focus"
                type="text"
                class="form-control"
                [(ngModel)]="model"
                [ngbTypeahead]="search"
                (focus)="focus$.next($any($event).target.value)"
                (click)="click$.next($any($event).target.value)"
                #instance="ngbTypeahead"
                placeholder="Procurar registro"
              />
                <span class="input-group-append">
                    <div class="input-group-text bg-transparent" (click)="onSearch(model)"><i class="bi bi-search"></i></div>
                </span> -->
                <input class="form-control" type="text" name="search" [(ngModel)]="searchText" autocomplete="off" placeholder="Procurar registro">
            </div>
        </div>
      </div>
             
      <!-- Modal Create User -->
      <div  class="modal fade" role="dialog" tabindex="-1" id="courses-form-modal">
        <div class="modal-dialog modal-lg" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Criar Registro</h5>
              <button type="button" class="close" data-dismiss="modal">
                <span aria-hidden="true">×</span>
              </button>
            </div>
            <div id="menu" class="container">                                
              <form role="form" #crudForm="ngForm"  (ngSubmit)="onSubmit(crudForm)">
                  <input hidden type="text" class="form-control" id="id" name="id" [(ngModel)]="crew.id">
                  <div class="form-group">
                    <label for="Name">Nome</label>
                    <input type="text" class="form-control" id="title" name="title" [(ngModel)]="crew.title">
                    <span class="error "  aria-label="Error" title="{{ this.error.title }}" *ngIf="error.title">
                      <i class="bi bi-exclamation-circle-fill "></i>
                  </span>
                </div>
            
                <div class="form-group">
                    <label for="Description">Descriçao</label>
                    <input type="text" class="form-control" id="description" name="description"  [(ngModel)]="crew.description">
                    <span class="error "  aria-label="Error" title="{{ this.error.description }}" *ngIf="error.description">
                      <i class="bi bi-exclamation-circle-fill "></i>
                  </span>
               </div>
                
                <div class="form-group">
                    <label for="Capacity">Capacidade</label>
                    <input type="texto" class="form-control" id="capacity" name="capacity"  [(ngModel)]="crew.capacity">
                    <span class="error "  aria-label="Error" title="{{ this.error.capacity }}" *ngIf="error.capacity">
                      <i class="bi bi-exclamation-circle-fill "></i>
                  </span>
                </div>
            
                <div class="form-group">
                    <label for="Hours">Horas</label>
                    <input type="text" class="form-control" id="hours" name="hours"  [(ngModel)]="crew.hours">
                    <span class="error "  aria-label="Error" title="{{ this.error.hours }}" *ngIf="error.hours">
                      <i class="bi bi-exclamation-circle-fill "></i>
                  </span>
                </div>
                  
                  <div class="row text-center ">
                      <div class="col-6">                        
                          <button type="submit" class="btn btn-default btn-lg" >Enviar</button>
                      </div> 
                      <div class="col-6">   
                        <a href="#" class="pull-right btn btn-primary  btn-lg" data-dismiss="modal" >Fechar</a>
                    </div>                              
                  </div>
                  <div class="d-flex justify-content-center">
                    <div *ngIf="successfully" class="row text-center ">
                        <div class="alert alert-success" role="alert">
                          Registro modificado!
                        </div>
                    </div>
                  </div>      
              </form>
              <br/>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  </div>
</div>
<app-footer></app-footer>
  
  